---
launch:
  - arg: {name: conf_name}
  - arg: {name: camera, default: frontleft}
  - node: 
      if: $(eval "'$(var conf_name)' == 'spot'")
      pkg: roman_ros2
      exec: fastsam_node.py
      name: fastsam_node
      namespace: $(var conf_name)
      param:
        - {name: map_frame_id, value: vision}
        - {name: odom_base_frame_id, value: body}
        - {name: config_path, value: $(find-pkg-share dcist_launch_system)/config/$(var conf_name)/fastsam.yaml}
      remap:
        - {from: color/camera_info, to: camera/$(var camera)/camera_info}
        - {from: color/image_raw, to: camera/$(var camera)/image}
        - {from: depth/camera_info, to: camera/$(var camera)/camera_info}
        - {from: depth/image_raw, to: depth/$(var camera)/depth_in_visual}
        - {from: /$(var conf_name)/tf, to: /tf}
        - {from: /$(var conf_name)/tf_static, to: /tf_static}
        - {from: /$(var conf_name)/roman/fastsam/status, to: /ros_system_monitor/node_diagnostic_collector}
  - node:
      if: $(eval "'$(var conf_name)' == 'default'")
      pkg: roman_ros2
      exec: fastsam_node.py
      name: fastsam_node
      namespace: $(var conf_name)
      param:
        - {name: map_frame_id, value: vision}
      remap: 
        - {from: /$(var conf_name)/roman/fastsam/status, to: /ros_system_monitor/node_diagnostic_collector}