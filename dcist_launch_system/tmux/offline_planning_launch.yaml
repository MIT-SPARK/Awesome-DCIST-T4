session_name: dcist_launch
environment:
    conf_name: "offline"
    robot_type: ""
    robot_name: ""

options:
    default-command: /bin/zsh


windows:

    - window_name: hydra
      shell_command_before: source ${DCIST_WS}/install/setup.zsh
      layout: tiled
      panes:
        - ros2 launch dcist_launch_system master.launch.yaml conf_name:=$conf_name launch_scene_graph_publisher:=true
        - ros2 launch dcist_launch_system master.launch.yaml conf_name:=$conf_name launch_hydra_visualizer:=true

    - window_name: sim_spot
      shell_command_before: source ${DCIST_WS}/install/setup.zsh
      layout: tiled
      panes:
        - source ~/dcist_env/bin/activate && ros2 launch dcist_launch_system master.launch.yaml conf_name:=$conf_name launch_spot_executor:=true
        - source ~/dcist_env/bin/activate && ros2 launch dcist_launch_system master.launch.yaml conf_name:=$conf_name launch_spot_state_publisher:=true
        - ros2 run teleop_twist_keyboard teleop_twist_keyboard --ros-args -r /cmd_vel:=/spot_executor_node/cmd_vel

    - window_name: planning
      shell_command_before: source ${DCIST_WS}/install/setup.zsh
      layout: tiled
      panes:
        - source ~/dcist_env/bin/activate && ros2 launch dcist_launch_system master.launch.yaml conf_name:=$conf_name launch_omniplanner:=true
        # - plan commander repl


    - window_name: misc
      shell_command_before: source ${DCIST_WS}/install/setup.zsh
      layout: tiled
      panes:
        - ros2 launch dcist_launch_system master.launch.yaml conf_name:=$conf_name launch_rviz:=true
        - ros2 run rmw_zenoh_cpp rmw_zenohd

    - window_name: debug
      shell_command_before: source ${DCIST_WS}/install/setup.zsh
      layout: tiled
      panes:
        - ros2 run ros_system_monitor ros_system_monitor
            --param_file `ros2 pkg prefix dcist_launch_system`/share/dcist_launch_system/config/$conf_name/ros_system_monitor_config.yaml
            --ros-args -r /ros_system_monitor/example1_node_topic:=/example_1_node/topic
