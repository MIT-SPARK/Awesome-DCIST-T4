---
session_name: adt4_system
suppress_history: false
environment:
    sim_time: "true"
    ADT4_OUTPUT_DIR: $ADT4_OUTPUT_DIR
    ROBOT_NAME: hamilton
    config: bag
    logging_key: spot_bag-bag
options:
    default-command: /bin/zsh
windows:
    - window_name: core
      shell_command_before: source ${ADT4_WS}/install/setup.zsh
      layout: tiled
      panes:
          # - ros2 run rmw_zenoh_cpp rmw_zenohd
          - "ros2 service call /hamilton/shutdown std_srvs/Empty && tmux send-keys -t roman.1 C-c \\"
    - window_name: hydra
      shell_command_before: source ${ADT4_WS}/install/setup.zsh
      layout: tiled
      panes:
          - ros2 launch dcist_launch_system master.launch.yaml conf_name:=$config sim_time:=$sim_time robot_name:=$ROBOT_NAME launch_semantic_inference:=true
          - ros2 launch dcist_launch_system master.launch.yaml conf_name:=$config sim_time:=$sim_time robot_name:=$ROBOT_NAME launch_hydra:=true
          - ros2 launch dcist_launch_system master.launch.yaml conf_name:=$config sim_time:=$sim_time robot_name:=$ROBOT_NAME launch_hydra_visualizer:=true
          - ros2 launch dcist_launch_system master.launch.yaml conf_name:=$config sim_time:=$sim_time robot_name:=$ROBOT_NAME launch_static_map_to_robot_map:=true
    - window_name: bag_spot
      shell_command_before: source ${ADT4_WS}/install/setup.zsh
      layout: tiled
      panes:
          - ros2 launch dcist_launch_system master.launch.yaml conf_name:=$config sim_time:=$sim_time robot_name:=$ROBOT_NAME launch_spot_executor:=true
          - ros2 launch dcist_launch_system master.launch.yaml conf_name:=$config sim_time:=$sim_time robot_name:=$ROBOT_NAME launch_spot_state_publisher:=true
          - ros2 launch dcist_launch_system master.launch.yaml conf_name:=$config sim_time:=$sim_time robot_name:=$ROBOT_NAME launch_spot_camera_decompression:=true

    - window_name: rviz
      shell_command_before: source ${ADT4_WS}/install/setup.zsh
      layout: tiled
      panes: [ros2 launch dcist_launch_system master.launch.yaml conf_name:=$config sim_time:=$sim_time robot_name:=$ADT4_ROBOT_NAME launch_rviz:=true]
