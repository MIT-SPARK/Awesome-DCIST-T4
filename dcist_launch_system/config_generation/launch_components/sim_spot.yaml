#@ load("@ytt:overlay", "overlay")

#@overlay/match by=overlay.all, expects="1+"
---
windows:
#@overlay/append
- window_name: sim_spot
  shell_command_before: source ${DCIST_WS}/install/setup.zsh
  layout: tiled
  panes:
    - source ~/dcist_env/bin/activate && ros2 launch dcist_launch_system master.launch.yaml conf_name:=$config launch_spot_executor:=true
    - source ~/dcist_env/bin/activate && ros2 launch dcist_launch_system master.launch.yaml conf_name:=$config launch_spot_state_publisher:=true
    - ros2 run teleop_twist_keyboard teleop_twist_keyboard --ros-args -r /cmd_vel:=/spot_executor_node/cmd_vel
